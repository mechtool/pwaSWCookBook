<mat-card >
	<h4 class="scriptTextHeader">index.js</h4>
	<p>Файл регистрации сервисного рабочего , запускаемый со страницы файла приложения.</p>
	<app-code-block [context]="{header : 'Скриптовый файл', ext : 'index.js', backgroundColor : '#eeeeee'}" >
  <span class="dark-grey">// Скрипт регистрирует сервисного рабочего, чей контекст клиентов ограничен папкой `controlled.
  //Все серверные запросы этих клиентов теперь будут проходить через сервисного рабочего</span>
   <div class="indexPointMark" >1</div> - Регистрация сервисного рабочего с контекстом исполнения - папка <span class="dark-blue" >controlled</span>
<span class="dark-purple" >navigator.</span><span class="dark-blue" >serviceWorker.register(</span><span class="dark-green" >'/controlled/service-worker.js'</span><span class="dark-blue" >)
        .catch((</span><span class="dark-red" >err</span><span class="dark-blue" >)=>&#123;
          console.log(</span><span class="dark-red" >err</span><span class="dark-blue" >);
&#125;);</span>
   <div class="indexPointMark" >2</div> - установка высоты фреймов, при активации события загрузки контента <span class="dark-blue" >controlled</span>
<span class="dark-lite" >function</span> <span class="dark-blue" >onLoadIframe(</span><span class="dark-red" >event</span><span class="dark-blue" >) &#123;</span>
      <span class="dark-red" >event.</span><span class="dark-blue" >target.style.height = </span><span class="dark-red" >event.</span><span class="dark-blue" >target.contentWindow.document.documentElement.getClientRects()[0].height + </span><span class="dark-green" >'px'</span><span class="dark-blue" >;
&#125;</span>
	</app-code-block>
</mat-card>
